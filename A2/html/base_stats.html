<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Pokémon Strip Plot</title>
  <script src="https://cdn.jsdelivr.net/npm/vega@5"></script>
  <script src="https://cdn.jsdelivr.net/npm/vega-lite@5"></script>
  <script src="https://cdn.jsdelivr.net/npm/vega-embed@6"></script>
  <style>
    body { font-family: Arial, sans-serif; margin: 20px; background-color: #f5f5f5; }
    #vis { background-color: white; border-radius: 8px; padding: 15px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); }
  </style>
</head>
<body>
  <h1>Pokémon Base Stats Strip Plot</h1>
  <div id="vis"></div>

  <script>
    const spec = {
      "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
      "width": 800,
      "height": 500,
      "data": { "url": "base_stats.csv" },
      "params": [
        {
          "name": "StatSelect",
          "value": "base_attack",
          "bind": {
            "input": "select",
            "options": ["base_attack","base_defense","base_stamina"],
            "labels": ["Base Attack","Base Defense","Base Stamina"],
            "name": "Select Stat: "
          }
        }
      ],
      "transform": [
        { "calculate": "datum[StatSelect]", "as": "Value" },
        { "calculate": "0.4*(random()-0.5)", "as": "jitter"}  // jitter horizontally
      ],
      "mark": {
        "type": "tick",
        "size": 10,
        "opacity": 0.7
      },
      "encoding": {
        "x": {
          "field": "type",
          "type": "nominal",
          "axis": { "title": "Pokémon Type", "labelAngle": -45 },
          "title": "Pokémon Type",
          "scale": {"padding": 0.5},
          "stack": null,
          "axisOffset": 0
        },
        "y": {
          "field": "Value",
          "type": "quantitative",
          "axis": { "title": "Value" },
          "scale": {"zero": false}
        },
        "tooltip": [
          { "field": "pokemon_name", "title": "Pokémon: " },
          { "field": "Value", "title": "Value: " },
          { "field": "type", "title": "Type: " }
        ]
      },
      "config": {
          "view": {"stroke": "transparent"}
      }
    };

    vegaEmbed('#vis', spec);
  </script>
</body>
</html>
