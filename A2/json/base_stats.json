{
  "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
  "width": 700,
  "height": 400,
  "title": {
    "text": "Base Stats by Primary Pokémon Type",
    "fontSize": 20,
    "fontWeight": "bold",
    "anchor": "start",
    "offset": 20
  },
  "config": {
    "view": {"stroke": "transparent"},
    "axis": {
      "gridColor": "#ededed",
      "gridWidth": 1,
      "labelFontSize": 12,
      "titleFontSize": 14,
      "titleFontWeight": "normal"
    }
  },
  "data": { "url": "csv/base_stats.csv" },
  "params": [
    {
      "name": "StatSelect",
      "value": "base_attack",
      "bind": {
        "input": "select",
        "options": ["base_attack","base_defense","base_stamina"],
        "labels": ["Base Attack","Base Defense","Base Stamina"],
        "name": "Select Stat: "
      }
    },
    {
      "name": "TypeSelect",
      "value": "All",
      "bind": {
        "input": "select",
        "options": ["All", "Bug", "Dark", "Dragon", "Electric", "Fairy", "Fighting", "Fire", "Flying", "Ghost",
                    "Grass", "Ground", "Ice", "Normal", "Poison", "Psychic", "Rock", "Steel", "Water"],
        "name": "Select Type: "
      }
    }
  ],
  "transform": [
    { "calculate": "datum[StatSelect]", "as": "Value" },
    { "filter": "TypeSelect == 'All' || datum.type == TypeSelect" }
  ],
  "mark": { "type": "tick", "size": 12, "color": "#9381ff" },
  "encoding": {
    "x": {
      "field": "type",
      "type": "nominal",
      "axis": { "title": "Pokémon Type", "labelAngle": -45 },
      "scale": { "paddingInner": 0.3, "paddingOuter": 0.2 }
    },
    "y": {
      "field": "Value",
      "type": "quantitative",
      "axis": {"title": "Stat Value", "labelPadding": 10, "titlePadding": 10},
      "scale": { "zero": false }
    },
    "tooltip": [
      { "field": "pokemon_name", "title": "Pokémon: " },
      { "field": "Value", "title": "Stat Value: " },
      { "field": "type", "title": "Type: " }
    ]
  }
}
